<!DOCTYPE html>
<html>
  <head>
    <title>Okta Login Example</title>
    <script src="https://dev-01966658.okta.com/oauth2/default/v1/js/sdk.js"></script>
    <script src="https://global.oktacdn.com/okta-auth-js/5.6.0/okta-auth-js.min.js" type="text/javascript"></script>
  </head>
  <body>
    <h1>Welcome to Okta Login</h1>
    <% if (!userContext?.isAuthenticated) { %>
      <button id="login">Log in</button>
    <% } else { %>
      <a href="/profile">View profile</a>
    <% } %>
    <script>
      var oktaAuth = new OktaAuth({
        issuer: '<%= oktaAuth.options.issuer %>',
        clientId: '<%= oktaAuth.options.clientId %>',
        redirectUri: '<%= oktaAuth.options.redirectUri %>',
      });

      var loginButton = document.getElementById('login');
      loginButton.addEventListener('click', function() {
        oktaAuth.token.getWithRedirect({
          postLoginRedirectUri: '<%= oktaAuth.options.redirectUri %>'
        });
      });
    </script>
  </body>
</html>